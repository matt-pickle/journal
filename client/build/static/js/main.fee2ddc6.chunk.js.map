{"version":3,"sources":["components/Context.js","components/Button.js","components/LogoutButton.js","components/Navigation.js","components/Content.js","components/Main.js","components/ProtectedRoute.js","components/Register.js","components/Login.js","components/App.js","index.js"],"names":["Context","React","createContext","ContextProvider","props","useState","user","setUser","journal","setJournal","useEffect","fetch","then","res","ok","text","JSON","parse","console","error","Provider","value","children","Button","hoverClass","setHoverClass","className","id","onMouseEnter","window","navigator","maxTouchPoints","msMaxTouchPoints","onMouseLeave","onTouchStart","onTouchEnd","onClick","LogoutButton","redirect","setRedirect","to","Navigation","useContext","list","setList","entryDates","map","entry","date","stringify","Content","Main","ProtectedRoute","isAuth","setIsAuth","Register","username","setUsername","password","setPassword","message","setMessage","htmlFor","type","onChange","event","target","method","history","push","Login","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fee2ddc6.chunk.js","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nconst Context = React.createContext();\r\n\r\nfunction ContextProvider(props) {\r\n  const [user, setUser] = useState(\"\");\r\n  const [journal, setJournal] = useState({});\r\n  \r\n  useEffect(() => {\r\n    //Gets username from web token\r\n    fetch(\"/user/getUser\")\r\n      .then(res => {\r\n        if (!res.ok) {\r\n          res.text().then(text => {\r\n            console.error(text);\r\n          });\r\n        } else {\r\n          res.text().then(text => {\r\n            setUser(text);\r\n            //Gets current user's journal from database\r\n            fetch(`/journal/getJournal?user=${text}`)\r\n              .then(res => {\r\n                if (!res.ok) {\r\n                  res.text().then(text => {\r\n                    console.error(text);\r\n                  });\r\n                } else {\r\n                  res.text().then(text => {\r\n                    setJournal(JSON.parse(text));\r\n                  });\r\n                }\r\n              });\r\n          });\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <Context.Provider value={{user: user, journal: journal}}>\r\n      {props.children}\r\n    </Context.Provider>\r\n  )\r\n}\r\n\r\nexport {ContextProvider, Context};","import React, {useState} from \"react\";\r\nimport \"../styles/styles.scss\";\r\n\r\nfunction Button(props) {\r\n  const [hoverClass, setHoverClass] = useState(\"\");\r\n\r\n  //Applies hover effect class if not using a touch screen\r\n  function hover() {\r\n    if (\"ontouchstart\" in window\r\n      || navigator.maxTouchPoints > 0\r\n      || navigator.msMaxTouchPoints > 0) {\r\n        setHoverClass(\"\")\r\n    } else {\r\n      setHoverClass(\"hovered\");\r\n    }\r\n  }\r\n\r\n  function unHover() {\r\n    setHoverClass(\"\");\r\n  }\r\n\r\n  function touch() {\r\n    setHoverClass(\"hovered\");\r\n  }\r\n\r\n  function unTouch() {\r\n    setHoverClass(\"\");\r\n  }\r\n\r\n  return (\r\n    <button className={`button ${hoverClass}`}\r\n            id={props.id}\r\n            onMouseEnter={hover}\r\n            onMouseLeave={unHover}\r\n            onTouchStart={touch}\r\n            onTouchEnd={unTouch}\r\n            onClick={props.onClick}\r\n    >\r\n      {props.text}\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default Button","import React, {useState} from \"react\";\nimport Button from \"./Button\";\nimport {Redirect} from \"react-router-dom\";\n\nfunction LogoutButton(props) {\n  const [redirect, setRedirect] = useState(false);\n\n  function logout() {\n    fetch(\"/user/logout\")\n    .then(res => {\n      if (!res.ok) {\n        console.error(\"Logout failed\");\n      } else {\n        //Redirects to login page if logout is successful\n        setRedirect(true);\n      }\n    });\n  }\n\n  return (\n    <div id={props.id}>\n      <Button text=\"LOGOUT\"\n              onClick={logout}\n      />\n      {redirect ? <Redirect to=\"/login\" /> : null}\n    </div>\n    \n  )\n}\n\nexport default LogoutButton;","import React, {useState, useContext, useEffect} from \"react\";\nimport LogoutButton from \"./LogoutButton\";\nimport {Context} from \"./Context\";\n\nfunction Navigation() {\n  const {user, journal} = useContext(Context);\n  const [list, setList] = useState([]);\n  \n\n  useEffect(() => {\n    fetch(`/journal/getJournal?user=${user}`)\n      .then(res => {\n        if (!res.ok) {\n          res.text().then(text => {\n            console.error(text);\n          });\n        } else {\n          res.text().then(text => {\n            setList(JSON.parse(text));\n          });\n        }\n      });\n  }, []);\n\n\n  const entryDates = list.map(entry => {\n    return entry.date;\n  });\n\n  return (\n    <div>\n      <h1>Navigation Menu</h1>\n      <p>{user}</p>\n      <p>{JSON.stringify(journal)}</p>\n      <p>{entryDates}</p>\n      <LogoutButton />\n    </div>\n  )\n}\n\nexport default Navigation;","import React, {useEffect} from \"react\";\n\nfunction Content() {\n  // const [journal, setJournal] = useState(\"\")\n\n  useEffect(() => {\n\n  })\n\n  return (\n    <div className=\"content-container\">\n      <h1>Content</h1>\n      {/* {entries} */}\n    </div>\n  )\n}\n\nexport default Content;","import React from \"react\";\nimport Navigation from \"./Navigation\";\nimport Content from \"./Content\";\n\nfunction Main() {\n  return (\n    <div className=\"main-container\">\n      <Navigation />\n      <Content />\n    </div>\n  )\n}\n\nexport default Main;","import React, {useState, useEffect} from \"react\";\nimport {Route, Redirect} from \"react-router-dom\";\n\nfunction ProtectedRoute(props) {\n  const [isAuth, setIsAuth] = useState(true);\n\n  useEffect(() => {\n    fetch(\"/user/getUser\")\n      .then(res => {\n        if (!res.ok) {\n          res.text().then(text => {\n            console.error(text);\n            setIsAuth(false);\n          })\n        } else {\n          setIsAuth(true);\n        }\n      });\n  }, []);\n\n  return isAuth ? <Route {...props} /> : <Redirect to=\"/login\" />;\n}\n\nexport default ProtectedRoute;","import React, {useState} from \"react\";\nimport {Link} from \"react-router-dom\";\nimport Button from \"./Button\";\nimport \"../styles/styles.scss\";\n\nfunction Register(props) {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState();\n\n  function handleNameChange(event) {\n    setUsername(event.target.value);\n  }\n\n  function handlePasswordChange(event) {\n    setPassword(event.target.value);\n  }\n\n  function handleClick() {\n    fetch(`/user/register?username=${username}&password=${password}`, {\n      method: \"POST\"\n    })\n    .then(res => {\n      if (!res.ok) {\n        //Gives error message if registration is not successful\n        res.text().then(text => {\n          setMessage(text);\n          console.error(text);\n        })\n      } else {\n        //Redirects to home page if registration is successful\n        props.history.push(\"/\");\n      }\n    });\n    setUsername(\"\");\n    setPassword(\"\");\n  }\n\n  return (\n    <div className=\"register\">\n      <p className=\"reg-title\">Register new user</p>\n      {message ? <p>***{message}***</p> : null}\n      <div className=\"input-box reg-input-box\">\n        <label htmlFor=\"reg-username\">Username</label>\n        <div className=\"input-container\">\n          <input type=\"text\"\n                 id=\"reg-username\"\n                 value={username}\n                 onChange={handleNameChange}\n          />\n        </div>\n      </div>\n      <div className=\"input-box reg-input-box\">\n      <label htmlFor=\"reg-password\">Password</label>\n        <div className=\"input-container\">\n          <input type=\"password\"\n                 id=\"reg-password\"\n                 value={password}\n                 onChange={handlePasswordChange}\n          />\n        </div>\n    </div>\n    <Button text=\"REGISTER\"\n              onClick={handleClick}\n      />\n    <p className=\"reg-text\">Already have an account?</p>\n    <Link to=\"/login\">\n      <Button text=\"GO TO LOGIN PAGE\" />\n    </Link>\n  </div>\n  )\n}\n\nexport default Register;","import React, {useState} from \"react\";\nimport Button from \"./Button\";\nimport {Link} from \"react-router-dom\";\nimport \"../styles/styles.scss\";\n\nfunction Login(props) {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState();\n\n  function handleNameChange(event) {\n    setUsername(event.target.value);\n  }\n\n  function handlePasswordChange(event) {\n    setPassword(event.target.value);\n  }\n\n  function handleClick() {\n    fetch(`/user/login?username=${username}&password=${password}`, {\n      method: \"POST\"\n    })\n    .then(res => {\n      if (!res.ok) {\n        //Gives error message if login is not successful\n        res.text().then(text => {\n          setMessage(text);\n          console.error(text);\n        })\n      } else {\n        //Redirects to home page if login is successful\n        props.history.push(\"/main\");\n      }\n    });\n    setUsername(\"\");\n    setPassword(\"\");\n  }\n\n  return (\n    <div className=\"register\">\n      {message ? <p>***{message}***</p> : null}\n      <div className=\"input-box reg-input-box\">\n        <label htmlFor=\"reg-username\">Username</label>\n        <div className=\"input-container\">\n          <input type=\"text\"\n                  id=\"reg-username\"\n                  value={username}\n                  onChange={handleNameChange}\n          />\n        </div>\n      </div>\n      <div className=\"input-box reg-input-box\">\n      <label htmlFor=\"reg-password\">Password</label>\n        <div className=\"input-container\">\n          <input type=\"password\"\n                  id=\"reg-password\"\n                  value={password}\n                  onChange={handlePasswordChange}\n          />\n        </div>\n    </div>\n    <Button text=\"LOGIN\"\n            onClick={handleClick}\n      />\n    <p className=\"reg-text\">Don't have an account?</p>\n    <Link to=\"/register\">\n      <Button text=\"REGISTER NEW USER\" />\n    </Link>\n  </div>\n  )\n}\n\nexport default Login;","import React from 'react';\nimport '../styles/styles.scss';\nimport {Switch, Route, Redirect} from \"react-router-dom\";\nimport {ContextProvider} from \"./Context\";\nimport Main from \"./Main\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport Register from \"./Register\";\nimport Login from \"./Login\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Switch>\n        <Route exact path=\"/\">\n          <Redirect to=\"/main\" />\n        </Route>\n        <ProtectedRoute path=\"/main\">\n          <ContextProvider>\n            <Main />\n          </ContextProvider>\n        </ProtectedRoute>\n        <Route path=\"/register\" component={Register} />\n        <Route path=\"/login\" component={Login} />\n      </Switch>\n    </div>\n    \n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/styles.scss';\nimport App from './components/App';\nimport {BrowserRouter as Router} from \"react-router-dom\";\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}