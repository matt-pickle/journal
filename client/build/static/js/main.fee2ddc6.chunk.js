(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{18:function(e,t,n){e.exports=n(28)},28:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),o=n.n(c),l=(n(9),n(1)),u=n(2),i=r.a.createContext();function s(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)({}),s=Object(u.a)(l,2),m=s[0],E=s[1];return Object(a.useEffect)((function(){fetch("/user/getUser").then((function(e){e.ok?e.text().then((function(e){o(e),fetch("/journal/getJournal?user=".concat(e)).then((function(e){e.ok?e.text().then((function(e){E(JSON.parse(e))})):e.text().then((function(e){console.error(e)}))}))})):e.text().then((function(e){console.error(e)}))}))}),[]),r.a.createElement(i.Provider,{value:{user:c,journal:m}},e.children)}var m=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],o=n[1];return r.a.createElement("button",{className:"button ".concat(c),id:e.id,onMouseEnter:function(){"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?o(""):o("hovered")},onMouseLeave:function(){o("")},onTouchStart:function(){o("hovered")},onTouchEnd:function(){o("")},onClick:e.onClick},e.text)};var E=function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),c=n[0],o=n[1];return r.a.createElement("div",{id:e.id},r.a.createElement(m,{text:"LOGOUT",onClick:function(){fetch("/user/logout").then((function(e){e.ok?o(!0):console.error("Logout failed")}))}}),c?r.a.createElement(l.a,{to:"/login"}):null)};var f=function(){var e=Object(a.useContext)(i),t=e.user,n=e.journal,c=Object(a.useState)([]),o=Object(u.a)(c,2),l=o[0],s=o[1];Object(a.useEffect)((function(){fetch("/journal/getJournal?user=".concat(t)).then((function(e){e.ok?e.text().then((function(e){s(JSON.parse(e))})):e.text().then((function(e){console.error(e)}))}))}),[]);var m=l.map((function(e){return e.date}));return r.a.createElement("div",null,r.a.createElement("h1",null,"Navigation Menu"),r.a.createElement("p",null,t),r.a.createElement("p",null,JSON.stringify(n)),r.a.createElement("p",null,m),r.a.createElement(E,null))};var h=function(){return Object(a.useEffect)((function(){})),r.a.createElement("div",{className:"content-container"},r.a.createElement("h1",null,"Content"))};var p=function(){return r.a.createElement("div",{className:"main-container"},r.a.createElement(f,null),r.a.createElement(h,null))};var b=function(e){var t=Object(a.useState)(!0),n=Object(u.a)(t,2),c=n[0],o=n[1];return Object(a.useEffect)((function(){fetch("/user/getUser").then((function(e){e.ok?o(!0):e.text().then((function(e){console.error(e),o(!1)}))}))}),[]),c?r.a.createElement(l.b,e):r.a.createElement(l.a,{to:"/login"})},v=n(7);var d=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(""),i=Object(u.a)(l,2),s=i[0],E=i[1],f=Object(a.useState)(),h=Object(u.a)(f,2),p=h[0],b=h[1];return r.a.createElement("div",{className:"register"},r.a.createElement("p",{className:"reg-title"},"Register new user"),p?r.a.createElement("p",null,"***",p,"***"):null,r.a.createElement("div",{className:"input-box reg-input-box"},r.a.createElement("label",{htmlFor:"reg-username"},"Username"),r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{type:"text",id:"reg-username",value:c,onChange:function(e){o(e.target.value)}}))),r.a.createElement("div",{className:"input-box reg-input-box"},r.a.createElement("label",{htmlFor:"reg-password"},"Password"),r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{type:"password",id:"reg-password",value:s,onChange:function(e){E(e.target.value)}}))),r.a.createElement(m,{text:"REGISTER",onClick:function(){fetch("/user/register?username=".concat(c,"&password=").concat(s),{method:"POST"}).then((function(t){t.ok?e.history.push("/"):t.text().then((function(e){b(e),console.error(e)}))})),o(""),E("")}}),r.a.createElement("p",{className:"reg-text"},"Already have an account?"),r.a.createElement(v.b,{to:"/login"},r.a.createElement(m,{text:"GO TO LOGIN PAGE"})))};var g=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(""),i=Object(u.a)(l,2),s=i[0],E=i[1],f=Object(a.useState)(),h=Object(u.a)(f,2),p=h[0],b=h[1];return r.a.createElement("div",{className:"register"},p?r.a.createElement("p",null,"***",p,"***"):null,r.a.createElement("div",{className:"input-box reg-input-box"},r.a.createElement("label",{htmlFor:"reg-username"},"Username"),r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{type:"text",id:"reg-username",value:c,onChange:function(e){o(e.target.value)}}))),r.a.createElement("div",{className:"input-box reg-input-box"},r.a.createElement("label",{htmlFor:"reg-password"},"Password"),r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{type:"password",id:"reg-password",value:s,onChange:function(e){E(e.target.value)}}))),r.a.createElement(m,{text:"LOGIN",onClick:function(){fetch("/user/login?username=".concat(c,"&password=").concat(s),{method:"POST"}).then((function(t){t.ok?e.history.push("/main"):t.text().then((function(e){b(e),console.error(e)}))})),o(""),E("")}}),r.a.createElement("p",{className:"reg-text"},"Don't have an account?"),r.a.createElement(v.b,{to:"/register"},r.a.createElement(m,{text:"REGISTER NEW USER"})))};var O=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/"},r.a.createElement(l.a,{to:"/main"})),r.a.createElement(b,{path:"/main"},r.a.createElement(s,null,r.a.createElement(p,null))),r.a.createElement(l.b,{path:"/register",component:d}),r.a.createElement(l.b,{path:"/login",component:g})))};o.a.render(r.a.createElement(v.a,null,r.a.createElement(O,null)),document.getElementById("root"))},9:function(e,t,n){}},[[18,1,2]]]);
//# sourceMappingURL=main.fee2ddc6.chunk.js.map